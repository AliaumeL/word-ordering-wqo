%! TEX program = pdflatex
% WARNING: this is a generated file.
%
% Please do not edit this file directly. 
% - If you want to update the medatata of the paper (title, authors, abstract), please
%   edit the `paper-meta.yaml` file in the root of the repository.
% - If you want to update the content of the paper, please edit the latex files
%   in the `src` directory.
% - If you want to update the template itself (e.g., change the layout), please
%   edit the `templates/lncs/lncs.tex` file instead.
\documentclass[runningheads,envcountsame]{llncs}


\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}


\usepackage{lineno}
$if(final)$
\nolinenumbers
$else$
\linenumbers
$endif$

$if(draft)$
\usepackage{todonotes}
$endif$

% babel for language settings
\usepackage[english]{babel}

% microtype for better typography
\usepackage{microtype}


% math packages
\usepackage{amssymb,amsmath,stmaryrd,thmtools,thm-restate,upgreek}

% Redefine theorem environments to be compatible with thmtools restatable
% llncs.cls already defines these using \spnewtheorem, but we need them to work with thmtools
% We need to undefine both the environments and the counters
\makeatletter
\let\theorem\relax
\let\endtheorem\relax
\let\c@theorem\relax
\let\thetheorem\relax
\let\p@theorem\relax
\let\lemma\relax
\let\endlemma\relax
\let\c@lemma\relax
\let\thelemma\relax
\let\p@lemma\relax
\let\corollary\relax
\let\endcorollary\relax
\let\c@corollary\relax
\let\thecorollary\relax
\let\p@corollary\relax
\let\proposition\relax
\let\endproposition\relax
\let\c@proposition\relax
\let\theproposition\relax
\let\p@proposition\relax
\let\definition\relax
\let\enddefinition\relax
\let\c@definition\relax
\let\thedefinition\relax
\let\p@definition\relax
\let\example\relax
\let\endexample\relax
\let\c@example\relax
\let\theexample\relax
\let\p@example\relax
\let\remark\relax
\let\endremark\relax
\let\c@remark\relax
\let\theremark\relax
\let\p@remark\relax
\makeatother

% Now redeclare them using thmtools for restatable support
% Using llncs-like formatting: bold for theorem names, italic for body
\declaretheorem[style=plain,numberwithin=section,name=Theorem]{theorem}
\declaretheorem[style=plain,sibling=theorem,name=Lemma]{lemma}
\declaretheorem[style=plain,sibling=theorem,name=Corollary]{corollary}
\declaretheorem[style=plain,sibling=theorem,name=Proposition]{proposition}
\declaretheorem[style=definition,sibling=theorem,name=Definition]{definition}
\declaretheorem[style=definition,sibling=theorem,name=Example]{example}
\declaretheorem[style=remark,sibling=theorem,name=Remark]{remark}


% graphics packages
\usepackage{graphicx}
\usepackage[obeyclassoptions,mode=tex]{standalone}
\usepackage{tikz}
\usetikzlibrary{backgrounds}
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{positioning}
\usetikzlibrary{automata}
\usetikzlibrary{tikzmark}
\usetikzlibrary{patterns}
\usetikzlibrary{arrows}
\tikzset{every state/.style={minimum size=1pt}}
\usepackage{tikz-cd}

\usepackage{subcaption}


% links inside the document
\usepackage{hyperref}
\usepackage[capitalise,noabbrev,nameinlink]{cleveref}
\Crefname{assumption}{Assumption}{Assumptions}
\Crefname{conjecture}{Conjecture}{Conjectures}
\usepackage[$if(draft)$composition$else$electronic$endif$,hyperref,xcolor,cleveref]{knowledge}
\knowledgeconfigure{notion}


% Tables 
\usepackage{booktabs}
\usepackage{varwidth}

% Packages for macro definitions
\usepackage{xparse}
\usepackage{xpatch}
\usepackage{tokcycle}
\usepackage{ifthen}

% Proof trees
\usepackage{bussproofs}

% Algorithms
\usepackage{algorithm2e}
\Crefname{algocfline}{Algorithm}{Algorithms}
\crefname{algocfline}{Algorithm}{Algorithms}
\crefname{algocf}{Algorithm}{Algorithms}
\Crefname{algocf}{Algorithm}{Algorithms}

% Colors 
\usepackage{ensps-colorscheme}
\knowledgestyle{intro notion}{color={A2}, emphasize}
\knowledgestyle{notion}{color={B1}}

% we include whatever the user wants to include in the header
$for(header-includes)$
$header-includes$
$endfor$

% we include libraries (tex files) usually written in the `lib` directory
$for(libraries)$
\input{$libraries$}
$endfor$

$if(anonymous)$
\newcommand{\repositoryUrl}{$if(repository.anonymous)$$repository.anonymous$$else$Undefined Anonymous Repository$endif$}
$else$
\newcommand{\repositoryUrl}{\url{$if(repository.url)$$repository.url$$else$$repository$$endif$}}
$endif$

\begin{document}
%
$if(draft)$
\title{$title$ \\
       $git-meta.branch$ $git-meta.commit$ \\
       $git-meta.date$
}
$else$
\title{$title$}
$endif$
$if(short-title)$
\titlerunning{$short-title$}
$endif$

$if(anonymous)$
\author{
    Anonymized for review
}
\authorrunning{Anonymized for review}
\institute{Anonymized for review}
$else$
\author{
    $for(author)$
    $author.name$\inst{$author.inst-num$}$if(author.orcid)$\orcidID{$author.orcid$}$endif$$sep$ \and
    $endfor$
}
\authorrunning{$for(author)$$author.initials$$sep$ and $endfor$}
\institute{
$for(institutions)$
$it.name$
$sep$ \and
$endfor$
}
$endif$

\date{\today}

%
\maketitle              % typeset the header of the contribution
%
\begin{abstract}
$if(abstract)$
    $abstract$
$else$
    Please write an abstract in the \texttt{paper-meta.yaml} file.
$endif$
\end{abstract}

% Include the content of the paper
$body$

% Include acknowledgements
$if(anonymous)$
$else$
$if(acknowledgements)$
\section*{Acknowledgements}
$acknowledgements$
$endif$
$endif$

% Include the bibliography
$if(bibliography)$
\bibliographystyle{splncs04}
\bibliography{$for(bibliography)$$it$$sep$,$endfor$}
$endif$

% If there are any appendices, we include them here.
$if(appendix)$
\appendix
$for(appendix)$
\input{$appendix$}
$endfor$
$endif$

$for(include-after)$
$include-after$
$endfor$

\end{document}
